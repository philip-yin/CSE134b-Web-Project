<!DOCTYPE html>
  <head>
  	<title> Profile </title>
  	<link rel="stylesheet" href="css/styles.css">
  	<meta charset="utf-8"/> 
  	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-storage.js"></script>
	<script src="javascript/common.js"></script>
	<script type="text/javascript">
		window.onload = function(){
			var chamName = document.cookie;
			console.log(chamName);
			document.getElementById("champname").innerHTML = chamName;
			var cham = firebase.database().ref("Champions");
			//var ref = snapshot.child(chamName).child("image");
			//console.log(ref);
			//console.log(cham.child(chamName));
			
			
			cham.once("value", function(snapshot) {
                  //if(snapshot.child(chamName).exists()){
					console.log(snapshot.child(chamName));
					console.log(snapshot.child(chamName).child("image"));
                    //var ref1 = fav.child(user.uid);
                    //var ref2 = ref1.push({
                    //  name: chamName
                    //});
                    //ref1.on("value", onValue);
                  //}//else{
                    //alert("Not a Valid Champion Name!");
                  //}
            });
			
	
		function change(){
			user = firebase.auth().currentUser;
			if(user){
				var favButton = document.getElementById("favorite").value;
				if(favButton === "Favorite"){
					alert('Added to Favorites');
					document.getElementById("favorite").value = "Un-Favorite";
					var ref1 = fav.child(user.uid);
					if(ref1) {
						var ref2 = ref1.push({
							name: "Akali"
						});
					}
					else{
						ref1.set({name: "Akali"});
					}
				}
				else{
					alert('Removed from Favorites');
					document.getElementById("favorite").value = "Favorite";
					var ref1 = fav.child(user.uid);
					ref1.set({name: null});
				}
			}
			else{
				alert('Not logged in.');
			}
		}
		
		/*var onValue = function(snapshot) {
        //document.getElementById('fav-image').innerHTML = '';
        var data = snapshot.val();
        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                cham.child(data[key].name).on("value",function(snapshot2){
                  var data2 = snapshot2.val();
                  console.log(data2.image)
                });
            }
        }*/
    //}
	</script>
  </head>
  
  <body>
	<div class = topbar>
      <h1>LeagueDex</h1>
      <a href="index.html"> Home </a>
      <a href="login.html" id = "inout"> Log In</a>
      <a href="signup.html" id = "status"> Sign Up</a>
      <hr>
    </div>
	<div style = "text-align:center">
	    <h2 id="champname">Champion Name</h2>
	    <p> <input onclick="change()" type="button" id="favorite" value ="Favorite"></p>
		 
		<img id="image" src="" alt="champion-picture" style="width:200px;height:200px;">
		<div class = "bodybox">
		    <h3 style = "text-align: center">Tips...</h3>
		    <p style = "border:solid white 0.5px; width:50%; display:inline-block;"> HOW TO PLAY THIS CHAMPION </p>
		
			<div style = "text-align:center;">
			  <a href="stats.html"> <p>statistics</p> </a>
			  <a href="skills.html"> <p>abilities</p> </a>
			  <a href="masteries.html"> <p>masteries</p> </a>
			  <a href="items.html"> <p>item build</p> </a>
			  <a href="runes.html"> <p>runes</p> </a>
			  <a href="threats.html"> <p>threats</p> </a>
			  <a href="skins.html"> <p>skins</p> </a>
			</div>
		</div>
	</div>
  </body>
</html>