<!DOCTYPE HTML>
<html>
 <head>
  <title>My Page</title>
  <link rel="stylesheet" href="css/styles.css">
  <meta charset="utf-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-storage.js"></script>
  <script src="javascript/common.js"></script>
<script>
    var cham  = firebase.database().ref('Champions');
  
    window.onload = function displayCham(){
         cham.once("value")
            .then(onValue);
    }

    function refresh(list) {
        var lis = '';
        for (var i = 0; i < list.length; i++) {
            lis += '<a href = "'+list[i].profile+
                   '" onClick = "champInfoSend('+list+ ',' + i+')">'+
                   '<figure style = "margin-left: 6%; display:inline-block;">'+
                   '<img src='+list[i].image +' alt="champion" >'+
                   '<figcaption>'+list[i].name+'</figcaption></figure></a>';
        };
        document.getElementById('cham').innerHTML = lis;
    }
	
	function champInfoSend(list,i){
		document.cookie = "champName=" + list[i].name + "; image=" + list[i].image;
	}

    var onValue = function(snapshot) {
        var data = snapshot.val();
        var list = [];
        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                list.push({
                    image: data[key].image,
                    profile:data[key].profile,
                    name: data[key].name
                });
            }
        }
        refresh(list);
    }
	
</script>
 </head>
  <body>

 	  <div class = topbar>
      <h1>LeagueDex</h1>
      <a href="index.html"> Home </a>
      <a href="login.html" id = "inout"> Log In</a>
      <a href="signup.html" id = "status"> Sign Up</a>
      <hr>
    </div>

  	<div style = "text-align: center; ">
  		<img src="league.jpg" alt="banner" >
  	</div>
    <div>
    	<a href="index.html" id = "champions" class="tablinks" style = "float:left; width:50%; text-align:center; background-color: #202060;" onclick="">Champions</a>
    	<a href="favorites_1.html"  id = "favorites" class="tablinks" style = "float:right; width:50%; text-align:center; background-color:#36366f;" onclick="">Favorites</a>
  	  <input type = "text" name = "search" placeholder="Search Champion..." style = "margin:2%; float:right;">
    </div>

    <div id = "cham" style = "margin-top:10%; text-align:center;">
  	</div>

 </body>
</html>
